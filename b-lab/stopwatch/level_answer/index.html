<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>ストップウォッチver_1</h1>
    <input type="button" id="btn1" value="start" >
    <input type="button" id="btn2" value="end" >
    <p id="time"></p>
</body>

<script>


let time = 0;//何秒立ったか決定するぞ
let a = document.getElementById("time");//idがtimeのところのpタグです。
let b = document.getElementById("btn1");
let c = document.getElementById("btn2");
let interval;
let name;
//Q1:count関数を直して正しい表示にしなさい level3
function count(){
    time++;

    //解答
    
    var hour = Math.floor(time/360000);
    //Q1 ANS:count関数を直して正しい表示にしなさい level3
    var min = Math.floor(time/6000) - 60*Math.floor(time/360000);//変更箇所
    var sec = Math.floor(time/100) -60*Math.floor(time/6000);//変更箇所
    //

    var mill = time%100;

    if(hour < 10){
        hour = "0" + hour;
    }

    if(min < 10){
        min = "0" + min;
    }

    if(sec < 10){
        sec = "0" + sec;
    }

    if(mill < 10){
        mill = "0" + mill;
    }

    //Q2:ここにif文でhourが99を超えたとき全てを0にリセットする命令を書きなさい level3
    if(hour > 99){
        time = 0;
    }
    //変更箇所

    name = hour + ":" + min + ":" + sec + ":" + mill;//問題
    a.innerHTML=name;//pタグに書き込みます
}


//かだいをやるときにはいじらないこと。自分で好きにするときはよい
b.onclick = function(){

    //Extra Q1:このinterval = nullのif文の意味はなんでしょうか level4
    //intervalがnullのときに始まるという意味です。
    if(interval == null){
        interval = setInterval(count,10);//10msごとにcount関数が実行されてカウントが増えます
    }

    time = 0;
}

c.onclick = function(){

    clearInterval(interval);
    interval = null;
}



//Extra Q2:上のonclickとはなんでしょうか. level4
//上のonclickはbuttonのタグを受け取っているのでbuttonがclickされたときの命令になります
//Extra Q3:interval = nullにする意味はなんでしょうか　level5
//nullにすることでintervalのタイマー情報をリセットしもう一度setintervalを行えるようにするためです

//FINAL Q おもいおもいのCSSをかけていたらよしとします


</script>

</html>